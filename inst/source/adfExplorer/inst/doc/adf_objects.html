<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>ADF S3 Class Objects</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">ADF S3 Class Objects</h1>



<p>The <code>adfExplorer</code> package has defined several S3 class
objects to make interaction with virtual ADF devices easier. This page
presents these objects, what they are for and how they can be used.</p>
<div id="adf_device" class="section level2">
<h2><code>adf_device</code></h2>
<div id="what-is-it" class="section level3">
<h3>What is it?</h3>
<p>Amiga Disk Files (ADF) or file representations of hardware disks. The
<code>adf_device</code> class is used to represent a connection to such
files. It can be seen as a virtual device. The file remains on disk, the
<code>adf_device</code> opens a file connection to it. Underneath the S3
class the object has the type <code>externalptr</code>.</p>
</div>
<div id="how-can-it-be-initialized" class="section level3">
<h3>How can it be initialized?</h3>
<p>The <code>adf_device</code> can be initiated by opening an ADF or ADZ
(a zipped ADF) file with <code>connect_adf()</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(adfExplorer, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>adz_file <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">&quot;example.adz&quot;</span>, <span class="at">package =</span> <span class="st">&quot;adfExplorer&quot;</span>)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>my_device <span class="ot">&lt;-</span> <span class="fu">connect_adf</span>(adz_file)</span></code></pre></div>
<p>It can also be initiated by creating a new device with
<code>create_adf_device()</code>. As the device needs to be stored as a
file, you need to specify its destination path. The example below uses a
temporary file for this purpose.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>adf_file <span class="ot">&lt;-</span> <span class="fu">tempfile</span>(<span class="at">fileext =</span> <span class="st">&quot;.adf&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>new_device <span class="ot">&lt;-</span> <span class="fu">create_adf_device</span>(adf_file)</span></code></pre></div>
</div>
<div id="what-can-i-do-with-it" class="section level3">
<h3>What can I do with it?</h3>
<p>Well, that depends. When you just created a device with
<code>create_adf_device()</code>, like the object named
<code>new_device</code> in the example above, it does not contain a file
system (see <code>vignette(&quot;file_system_modes&quot;)</code>). Virtual disks
without a file system, could contain unspecified data or a custom track
loader, which can contain instructions running independently from the
operating system. You can inspect those disks by reading and writing <a href="#adf_block">blocks</a>, the logical unit of data on a disk.</p>
<p>When a virtual disk does contain a file system, like the one opened
with <code>connect_adf()</code> stored as the object named
<code>my_device</code>, you can do a lot more. You can query the files
and directories on the disk. Read, write, copy, move, manipulate and
delete those files. The example below shows how to list the entries
(files and directories) on the disk’s root.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="fu">list_adf_entries</span>(my_device)</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a><span class="co">#&gt; DIR  DEWR...     Devs</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co">#&gt; DIR  DEWR...        S</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">#&gt; DIR  DEWR...     this</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="co">#&gt; DIR  DEWR...     mods</span></span></code></pre></div>
</div>
<div id="end-of-life" class="section level3">
<h3>End of life</h3>
<p>As any <code>externalptr</code> object an <code>adf_device</code>
will be cleaned up automatically by R’s garbage collector when it goes
out of scope. However, as it maintains an open connection to a file on
disk, it is always wise to <code>close()</code> the device when you are
done with it. Calling <code>close()</code> on an <code>adf_device</code>
will also automatically close all nested connections to files on the
virtual device (see also <a href="#adf_file_con"><code>adf_file_con</code></a>)</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="fu">close</span>(new_device)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="do">## Let&#39;s keep `my_device` open to be used in examples below</span></span></code></pre></div>
</div>
</div>
<div id="adf_file_con" class="section level2">
<h2><code>adf_file_con</code></h2>
<div id="what-is-it-1" class="section level3">
<h3>What is it?</h3>
<p>It is a connection to a file on a virtual device represented by the
<a href="#adf_device"><code>adf_device</code></a> class objects. Well…
Technically, it isn’t a connection really, because CRAN’s policy does
not allow to call non API entry points into R. This would be required to
setup a proper connection. Instead, the <code>adf_file_con</code> is a
mockup using an <code>externalptr</code> type to mimic R connections. In
essence, it behaves very much like any other connection in R (more
details below).</p>
</div>
<div id="how-can-it-be-initialized-1" class="section level3">
<h3>How can it be initialized?</h3>
<p>An <code>adf_file_con</code> object can be initiated using a call to
<code>adf_file_con()</code>. For this purpose, you first need to connect
to a virtual device containing a file system. We’ll use
<code>my_device</code> opened in earlier examples. We can use the path
to a file on a virtual device to open a connection as shown below.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>con <span class="ot">&lt;-</span> <span class="fu">adf_file_con</span>(my_device, <span class="st">&quot;DF0:mods/mod.intro&quot;</span>)</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a><span class="fu">summary</span>(con)</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a><span class="co">#&gt; $description</span></span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a><span class="co">#&gt; [1] &quot;mod.intro&quot;</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-7"><a href="#cb5-7" tabindex="-1"></a><span class="co">#&gt; $class</span></span>
<span id="cb5-8"><a href="#cb5-8" tabindex="-1"></a><span class="co">#&gt; [1] &quot;adf_file_con&quot;</span></span>
<span id="cb5-9"><a href="#cb5-9" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-10"><a href="#cb5-10" tabindex="-1"></a><span class="co">#&gt; $mode</span></span>
<span id="cb5-11"><a href="#cb5-11" tabindex="-1"></a><span class="co">#&gt; [1] &quot;rb&quot;</span></span>
<span id="cb5-12"><a href="#cb5-12" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-13"><a href="#cb5-13" tabindex="-1"></a><span class="co">#&gt; $text</span></span>
<span id="cb5-14"><a href="#cb5-14" tabindex="-1"></a><span class="co">#&gt; [1] &quot;binary&quot;</span></span>
<span id="cb5-15"><a href="#cb5-15" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-16"><a href="#cb5-16" tabindex="-1"></a><span class="co">#&gt; $opened</span></span>
<span id="cb5-17"><a href="#cb5-17" tabindex="-1"></a><span class="co">#&gt; [1] &quot;opened&quot;</span></span>
<span id="cb5-18"><a href="#cb5-18" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-19"><a href="#cb5-19" tabindex="-1"></a><span class="co">#&gt; $`can read`</span></span>
<span id="cb5-20"><a href="#cb5-20" tabindex="-1"></a><span class="co">#&gt; [1] &quot;yes&quot;</span></span>
<span id="cb5-21"><a href="#cb5-21" tabindex="-1"></a><span class="co">#&gt; </span></span>
<span id="cb5-22"><a href="#cb5-22" tabindex="-1"></a><span class="co">#&gt; $`can write`</span></span>
<span id="cb5-23"><a href="#cb5-23" tabindex="-1"></a><span class="co">#&gt; [1] &quot;no&quot;</span></span></code></pre></div>
<p>If you want to open writable connections to a virtual device, you
need to initiate the device without write protection. A writable
connection can also be used to create new files on the virtual
device.</p>
</div>
<div id="what-can-i-do-with-it-1" class="section level3">
<h3>What can I do with it?</h3>
<p>Depending on how you set the option <code>writable</code> when
calling <code>adf_file_con</code>, you can either read and / or write to
the connection. By default the connection is opened as read-only. You
can use <code>readBin()</code> to read binary data from the
connection.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="fu">readBin</span>(con, <span class="st">&quot;raw&quot;</span>, 20L)</span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="co">#&gt;  [1] 69 6e 74 72 6f 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</span></span></code></pre></div>
<p>Note that <code>adf_file_con()</code> always opens the connection as
‘binary’, but you can also use it for reading and writing text. So
basically, <code>readLines()</code>, <code>writeBin()</code> and
<code>writeLines()</code> are all available (the latter two obviously
when the connection is writable).</p>
<p>In addition, you can tell where the current byte offset in the file
is located with <code>seek()</code>. You can also use it to set the
offset to a specific location.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="fu">seek</span>(con)</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a><span class="co">#&gt; [1] 20</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="fu">seek</span>(con, 30L)</span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a><span class="co">#&gt; [1] 30</span></span></code></pre></div>
</div>
<div id="end-of-life-1" class="section level3">
<h3>End of life</h3>
<p>Like any connection it is good practice to <code>close()</code> it
when you are done. Any <code>adf_file_con</code> still open when its
parent <code>adf_device</code> is closed, will automatically be closed.
It can no longer be accessed when the virtual device is not
available.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="fu">close</span>(con)</span></code></pre></div>
</div>
</div>
<div id="virtual_path" class="section level2">
<h2><code>virtual_path</code></h2>
<div id="what-is-it-2" class="section level3">
<h3>What is it?</h3>
<p>It is a vectorised <code>list</code> of <code>list</code>s. The
nested list contains two elements:</p>
<ol style="list-style-type: decimal">
<li>An <code>adf_device</code> class object</li>
<li>A <code>character</code> string, specifying a path to a file or
directory on the virtual device.</li>
</ol>
<p>The outer list just contains a collection of these.</p>
</div>
<div id="how-can-it-be-initialized-2" class="section level3">
<h3>How can it be initialized?</h3>
<p>It can be initialised by calling <code>virtual_path()</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">virtual_path</span>(my_device, <span class="st">&quot;DF0:s/startup-sequence&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="co">#&gt; FILE DEWR----   0.6 kB Startup-Sequence</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="fu">virtual_path</span>(my_device, <span class="st">&quot;idontexist&quot;</span>)</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="co">#&gt; Invalid path</span></span></code></pre></div>
<p>Note that the file does not necessarily have to exist in order to
create a virtual path. It doesn’t create any kind of connection to the
file, but you can use it to open one.</p>
</div>
<div id="what-can-i-do-with-it-2" class="section level3">
<h3>What can I do with it?</h3>
<p>The <code>virtual_path</code> is a means to refer to files and
directory on a virtual device. It also helps to set up processes with
the pipe operator (<code>|&gt;</code>). There is a
<code>vignette(&quot;virtual_path&quot;)</code> dedicated to describing the object
and its usage in more detail.</p>
</div>
<div id="end-of-life-2" class="section level3">
<h3>End of life</h3>
<p>It is just a list. You can just call <code>rm()</code> on it to get
rid of it.</p>
</div>
</div>
<div id="adf_block" class="section level2">
<h2><code>adf_block</code></h2>
<div id="what-is-it-3" class="section level3">
<h3>What is it?</h3>
<p>A representation of <code>raw</code> data of a logical unit on a
virtual device of 512 bytes. It is simply a <code>vector</code> of
<code>raw</code> data.</p>
</div>
<div id="how-can-it-be-initialized-3" class="section level3">
<h3>How can it be initialized?</h3>
<p>A new block block can be created with <code>new_adf_block()</code>.
It will be initialised with null bytes. You can also coerce a
<code>raw</code> <code>vector</code> to an <code>adf_block</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>block1 <span class="ot">&lt;-</span> <span class="fu">new_adf_block</span>()</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="do">## a block with random data</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>block2 <span class="ot">&lt;-</span> <span class="fu">as_adf_block</span>(<span class="fu">as.raw</span>(<span class="fu">sample.int</span>(<span class="at">n=</span>256L, <span class="at">size =</span> 512L, <span class="at">replace =</span> <span class="cn">TRUE</span>) <span class="sc">-</span> 1L))</span></code></pre></div>
<p>You can also intialise a block by reading it from a virtual
device</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a><span class="do">## This will read the initial &#39;boot&#39; block</span></span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a><span class="do">## from the virtual device</span></span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>block3 <span class="ot">&lt;-</span> <span class="fu">read_adf_block</span>(my_device, 0L)</span></code></pre></div>
</div>
<div id="what-can-i-do-with-it-3" class="section level3">
<h3>What can I do with it?</h3>
<p>You can read blocks from a virtual disk with
<code>read_adf_block()</code> and write them to a specific sector on the
virtual disk with <code>write_adf_block()</code>. But be careful you can
damage the file system or track loader of the virtual disk if you don’t
know what you are doing.
<!-- add link to block vignette with more detail here once it is written --></p>
</div>
<div id="end-of-life-3" class="section level3">
<h3>End of life</h3>
<p>It can just be removed from memory by calling <code>rm()</code>. As
there is no actual link to the virtual device, removing an
<code>adf_block</code> class object from memory does not affect your
virtual device.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="fu">rm</span>(block1, block2, block3)</span></code></pre></div>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
