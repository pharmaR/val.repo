<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>Creating ADFACE</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">Creating ADFACE</h1>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>This article describes about creating <code>ADFACE</code> ADaM
dataset which is part of Vaccine - Reactogenicity based on the Center
for Biologics Evaluation and Research (CBER) guidelines.</p>
<p>See the below links for more information:</p>
<p><a href="https://www.fda.gov/media/112581/download">Center for
Biologics Evaluation and Research (CBER) Guidelines</a></p>
<p><a href="https://www.cdisc.org/standards/therapeutic-areas/vaccines/vaccines-therapeutic-area-user-guide-v11/html">Therapeutic
Area Data Standards User Guide for Vaccines (TAUG-Vax)</a></p>
<p>Examples are currently tested using <code>ADSL</code> (ADaM) and
<code>face</code>, <code>vs</code>, <code>ex</code> (SDTM) inputs.</p>
<p><strong>Note</strong>: <em>All examples assume CDISC SDTM and/or ADaM
format as input unless otherwise specified.</em></p>
</div>
<div id="programming-workflow" class="section level1">
<h1>Programming Workflow</h1>
<ul>
<li><a href="#readdata">Read in Data</a></li>
<li><a href="#input">Pre-processing of Input Dataset</a></li>
<li><a href="#merge">Merge <code>FACE</code> with
<code>EX</code></a></li>
<li><a href="#adsl">Merge Required <code>ADSL</code> Variables Needed
for Analysis</a></li>
<li><a href="#fever">Derive Fever Records from <code>VS</code>
Domain</a></li>
<li><a href="#datetime">Derive/Impute Numeric Date/Time and Analysis Day
(<code>ADT</code>, <code>ADTM</code>, <code>ADY</code>,
<code>ADTF</code>, <code>ATMF</code>)</a></li>
<li><a href="#periodvars">Derive Period Variables
(e.g. <code>APxxSDT</code>, <code>APxxEDT</code>, …)</a></li>
<li><a href="#mapping">Derive Direct Mapping Variables</a></li>
<li><a href="#sev">Derive Severity Records for Administration Site
Events</a></li>
<li><a href="#max">Derive Maximum Records</a></li>
<li><a href="#paramcd">Assign <code>PARAMCD</code>, <code>PARAM</code>,
<code>PARAMN</code>, <code>PARCAT1</code></a></li>
<li><a href="#maxflag">Derive Maximum Severity Flag</a></li>
<li><a href="#eventflag">Derive Event Occurrence Flag</a></li>
<li><a href="#post">Post-processing of the Dataset</a></li>
<li><a href="#adsl_vars">Add ADSL Variables</a></li>
</ul>
<div id="readdata" class="section level2">
<h2>Read in Data</h2>
<p>To start, all data frames needed for the creation of
<code>ADFACE</code> should be read into the environment. Some of the
data frames needed are <code>VS</code>,<code>EX</code> and
<code>FACE</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">library</span>(admiral)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="fu">library</span>(admiralvaccine)</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">library</span>(admiraldev)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">library</span>(pharmaversesdtm)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">library</span>(dplyr, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">library</span>(stringr)</span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;face_vaccine&quot;</span>)</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;suppface_vaccine&quot;</span>)</span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;ex_vaccine&quot;</span>)</span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;suppex_vaccine&quot;</span>)</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;vs_vaccine&quot;</span>)</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a><span class="fu">data</span>(<span class="st">&quot;admiralvaccine_adsl&quot;</span>)</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>face <span class="ot">&lt;-</span> <span class="fu">convert_blanks_to_na</span>(face_vaccine)</span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a>ex <span class="ot">&lt;-</span> <span class="fu">convert_blanks_to_na</span>(ex_vaccine)</span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>vs <span class="ot">&lt;-</span> <span class="fu">convert_blanks_to_na</span>(vs_vaccine)</span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>suppface <span class="ot">&lt;-</span> <span class="fu">convert_blanks_to_na</span>(suppface_vaccine)</span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a>suppex <span class="ot">&lt;-</span> <span class="fu">convert_blanks_to_na</span>(suppex_vaccine)</span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a>adsl <span class="ot">&lt;-</span> <span class="fu">convert_blanks_to_na</span>(admiralvaccine_adsl)</span></code></pre></div>
</div>
<div id="input" class="section level2">
<h2>Pre-processing of Input Dataset</h2>
<p>This step involves company-specific pre-processing of required input
dataset for further analysis. In this step, we will filter records that
has only reactogenicity events and combine the <code>face</code> and
<code>ex</code> with their supplementary datasets <code>suppface</code>
and <code>suppex</code> respectively.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a>face <span class="ot">&lt;-</span> face <span class="sc">%&gt;%</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>  <span class="fu">filter</span>(FACAT <span class="sc">==</span> <span class="st">&quot;REACTOGENICITY&quot;</span> <span class="sc">&amp;</span> <span class="fu">grepl</span>(<span class="st">&quot;ADMIN|SYS&quot;</span>, FASCAT)) <span class="sc">%&gt;%</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">FAOBJ =</span> <span class="fu">str_to_upper</span>(FAOBJ)) <span class="sc">%&gt;%</span></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a>  metatools<span class="sc">::</span><span class="fu">combine_supp</span>(suppface)</span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a>ex <span class="ot">&lt;-</span> metatools<span class="sc">::</span><span class="fu">combine_supp</span>(ex, suppex)</span></code></pre></div>
<table>
<colgroup>
<col width="8%" />
<col width="20%" />
<col width="8%" />
<col width="13%" />
<col width="18%" />
<col width="12%" />
<col width="18%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">FATESTCD</th>
<th align="left">FACAT</th>
<th align="left">FASCAT</th>
<th align="left">FATPTREF</th>
<th align="left">FADTC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">SYSTEMIC</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-03T18:00:23</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">SYSTEMIC</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-04T18:01:09</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">SYSTEMIC</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-05T19:04:07</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">SYSTEMIC</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-06T18:00:33</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">SYSTEMIC</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-07T18:01:25</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">SYSTEMIC</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-08T18:00:26</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">SYSTEMIC</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-09T18:08:04</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-03T18:00:23</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">OCCUR</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-04T18:01:09</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">SEV</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
<td align="left">VACCINATION 1</td>
<td align="left">2021-11-04T18:01:09</td>
</tr>
</tbody>
</table>
</div>
<div id="merge" class="section level2">
<h2>Merge <code>FACE</code> with <code>EX</code></h2>
<p>In this step, we will merge <code>face</code> with <code>ex</code>
domain and add required variables from <code>ex</code> domain to the
input dataset. If subjects have multiple vaccination at same visit then
this function will not merge input dataset with <code>ex</code> dataset
and throws a warning.</p>
<p>The function <code>derive_vars_merged_vaccine()</code> is used to
merge <code>face</code> with <code>ex</code> domain.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_vars_merged_vaccine</span>(</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>  <span class="at">dataset =</span> face,</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  <span class="at">dataset_ex =</span> ex,</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  <span class="at">by_vars_sys =</span> <span class="fu">exprs</span>(USUBJID, <span class="at">FATPTREF =</span> EXLNKGRP),</span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  <span class="at">by_vars_adms =</span> <span class="fu">exprs</span>(USUBJID, <span class="at">FATPTREF =</span> EXLNKGRP, <span class="at">FALOC =</span> EXLOC, <span class="at">FALAT =</span> EXLAT),</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>  <span class="at">ex_vars =</span> <span class="fu">exprs</span>(EXTRT, EXDOSE, EXSEQ, EXSTDTC, EXENDTC, VISIT, VISITNUM)</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">FATESTCD</th>
<th align="left">FATPTREF</th>
<th align="left">EXTRT</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">OCCUR</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">OCCUR</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">SEV</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">OCCUR</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">SEV</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">OCCUR</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">SEV</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">OCCUR</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">SEV</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">OCCUR</td>
<td align="left">VACCINATION 1</td>
<td align="left">VACCINE A</td>
</tr>
</tbody>
</table>
<p>This call would return the input dataset with columns from
<code>ex_vars</code> added if the subjects does not have multiple
vaccination at same visit.</p>
<p>Though the function will throw warning if subjects have multiple
vaccination at same visit, this call would return the input dataset
merging it with supplementary dataset.</p>
</div>
<div id="adsl" class="section level2">
<h2>Merge Required <code>ADSL</code> Variables Needed for Analysis</h2>
<p>At this step, it may be useful to join <code>ADSL</code> to your
<code>face</code> domain. Only the <code>ADSL</code> variables used for
derivations are selected at this step. The rest of the relevant
<code>ADSL</code> variables would be added later.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>adsl_vars <span class="ot">&lt;-</span> <span class="fu">exprs</span>(RFSTDTC, RFENDTC)</span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_vars_merged</span>(</span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>  face,</span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>  <span class="at">dataset_add =</span> adsl,</span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a>  <span class="at">new_vars =</span> adsl_vars,</span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a>  <span class="at">by_vars =</span> <span class="fu">get_admiral_option</span>(<span class="st">&quot;subject_keys&quot;</span>)</span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">RFSTDTC</th>
<th align="left">RFENDTC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03T10:50:00</td>
<td align="left">2022-04-27</td>
</tr>
</tbody>
</table>
<p>This call would return the input dataset with columns
<code>RFSTDTC</code>, <code>RFENDTC</code> added.</p>
</div>
<div id="fever" class="section level2">
<h2>Derive Fever Records from <code>VS</code> Domain</h2>
<p>In this step, we will merge fever records from the <code>VS</code>
domain with the input dataset if the fever records does not present in
the input dataset.</p>
<p>The function <code>derive_fever_records()</code> is used to merge
fever records. These records will also be used in maximum temperature
calculation.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_fever_records</span>(</span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>  <span class="at">dataset_source =</span> <span class="fu">ungroup</span>(vs),</span>
<span id="cb5-4"><a href="#cb5-4" tabindex="-1"></a>  <span class="at">filter_source =</span> VSCAT <span class="sc">==</span> <span class="st">&quot;REACTOGENICITY&quot;</span> <span class="sc">&amp;</span> VSTESTCD <span class="sc">==</span> <span class="st">&quot;TEMP&quot;</span>,</span>
<span id="cb5-5"><a href="#cb5-5" tabindex="-1"></a>  <span class="at">faobj =</span> <span class="st">&quot;FEVER&quot;</span></span>
<span id="cb5-6"><a href="#cb5-6" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">FATESTCD</th>
<th align="left">FAORRES</th>
<th align="right">VSSTRESN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">N</td>
<td align="right">36.61</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">N</td>
<td align="right">37.28</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">N</td>
<td align="right">36.28</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">N</td>
<td align="right">36.83</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">N</td>
<td align="right">36.56</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">N</td>
<td align="right">37.28</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">N</td>
<td align="right">36.72</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">FEVER</td>
<td align="left">OCCUR</td>
<td align="left">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<p>This call returns the input dataset with <code>FEVER</code> records
added if the input dataset does not have <code>FEVER</code> records. If
the input dataset has <code>FEVER</code> records, the output dataset
will be same as the input dataset.</p>
</div>
<div id="datetime" class="section level2">
<h2>Derive/Impute Numeric Date/Time and Analysis Day (<code>ADT</code>,
<code>ADTM</code>, <code>ADTF</code>, <code>ATMF</code>,
<code>ADY</code>)</h2>
<p>The function <code>derive_vars_dt()</code> can be used to derive
<code>ADT</code>. This function allows the user to impute the date as
well.</p>
<p>Similarly, <code>ADTM</code> can be created using the function
<code>derive_vars_dtm()</code>. Imputation can be done on both the date
and time components of <code>ADTM</code>.</p>
<p>Example calls:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> adface <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>  <span class="fu">derive_vars_dt</span>(</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>    <span class="at">new_vars_prefix =</span> <span class="st">&quot;A&quot;</span>,</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>    <span class="at">dtc =</span> FADTC</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb6-6"><a href="#cb6-6" tabindex="-1"></a>  <span class="fu">derive_vars_dtm</span>(</span>
<span id="cb6-7"><a href="#cb6-7" tabindex="-1"></a>    <span class="at">new_vars_prefix =</span> <span class="st">&quot;A&quot;</span>,</span>
<span id="cb6-8"><a href="#cb6-8" tabindex="-1"></a>    <span class="at">dtc =</span> FADTC,</span>
<span id="cb6-9"><a href="#cb6-9" tabindex="-1"></a>    <span class="at">highest_imputation =</span> <span class="st">&quot;n&quot;</span></span>
<span id="cb6-10"><a href="#cb6-10" tabindex="-1"></a>  )</span></code></pre></div>
<p>Once <code>ADT</code> is derived, the function
<code>derive_vars_dy()</code> can be used to derive <code>ADY</code>.
This example assumes both <code>ADT</code> and <code>RFSTDTC</code>
exist on the data frame.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> adface <span class="sc">%&gt;%</span></span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">RFSTDTC =</span> <span class="fu">as.Date</span>(RFSTDTC)) <span class="sc">%&gt;%</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a>  <span class="fu">derive_vars_dy</span>(<span class="at">reference_date =</span> RFSTDTC, <span class="at">source_vars =</span> <span class="fu">exprs</span>(ADT))</span></code></pre></div>
<table>
<colgroup>
<col width="11%" />
<col width="17%" />
<col width="28%" />
<col width="13%" />
<col width="24%" />
<col width="4%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FATPTREF</th>
<th align="left">FAOBJ</th>
<th align="left">ADT</th>
<th align="left">ADTM</th>
<th align="right">ADY</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">CHILLS</td>
<td align="left">2021-11-03</td>
<td align="left">2021-11-03 18:00:23</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">CHILLS</td>
<td align="left">2021-11-04</td>
<td align="left">2021-11-04 18:01:09</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">CHILLS</td>
<td align="left">2021-11-05</td>
<td align="left">2021-11-05 19:04:07</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">CHILLS</td>
<td align="left">2021-11-06</td>
<td align="left">2021-11-06 18:00:33</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">CHILLS</td>
<td align="left">2021-11-07</td>
<td align="left">2021-11-07 18:01:25</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">CHILLS</td>
<td align="left">2021-11-08</td>
<td align="left">2021-11-08 18:00:26</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">CHILLS</td>
<td align="left">2021-11-09</td>
<td align="left">2021-11-09 18:08:04</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">2021-11-03</td>
<td align="left">2021-11-03 18:00:23</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">2021-11-04</td>
<td align="left">2021-11-04 18:01:09</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">VACCINATION 1</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">2021-11-04</td>
<td align="left">2021-11-04 18:01:09</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
</div>
<div id="periodvars" class="section level2">
<h2>Derive Period Variables (e.g. <code>APxxSDT</code>,
<code>APxxEDT</code>, …)</h2>
<p>The <code>{admiral}</code> core package has separate functions to
handle period variables since these variables are study specific.</p>
<p>See the <a href="https://pharmaverse.github.io/admiral/articles/visits_periods.html">“Visit
and Period Variables” vignette</a> for more information.</p>
<p>If the variables are not derived based on a period reference dataset,
they may be derived at a later point of the flow. For example, phases
like “Treatment Phase” and “Follow up” could be derived based on
treatment start and end date.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a>period_ref <span class="ot">&lt;-</span> <span class="fu">create_period_dataset</span>(</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>  <span class="at">dataset =</span> adsl,</span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a>  <span class="at">new_vars =</span> <span class="fu">exprs</span>(</span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a>    <span class="at">APERSDT =</span> APxxSDT, <span class="at">APEREDT =</span> APxxEDT, <span class="at">TRTA =</span> TRTxxA,</span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a>    <span class="at">TRTP =</span> TRTxxP</span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a>  )</span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a>)</span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_vars_joined</span>(</span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a>  adface,</span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>  <span class="at">dataset_add =</span> period_ref,</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>  <span class="at">by_vars =</span> <span class="fu">get_admiral_option</span>(<span class="st">&quot;subject_keys&quot;</span>),</span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>  <span class="at">filter_join =</span> ADT <span class="sc">&gt;=</span> APERSDT <span class="sc">&amp;</span> ADT <span class="sc">&lt;=</span> APEREDT,</span>
<span id="cb8-14"><a href="#cb8-14" tabindex="-1"></a>  <span class="at">join_type =</span> <span class="st">&quot;all&quot;</span></span>
<span id="cb8-15"><a href="#cb8-15" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">APERSDT</th>
<th align="left">APEREDT</th>
<th align="left">TRTA</th>
<th align="left">TRTP</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-29</td>
<td align="left">VACCINE A</td>
<td align="left">VACCINE A</td>
</tr>
</tbody>
</table>
</div>
<div id="mapping" class="section level2">
<h2>Derive Direct Mapping Variables</h2>
<p>In this step,we will create the user defined function to assign
<code>AVAL</code> values from <code>AVALC</code> which will be used in
further steps.</p>
<p>The user defined functions would look like the following:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a>sev_to_numeric <span class="ot">&lt;-</span> <span class="cf">function</span>(x, y) {</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>  <span class="fu">case_when</span>(</span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>    x <span class="sc">==</span> <span class="st">&quot;NONE&quot;</span> <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>    x <span class="sc">==</span> <span class="st">&quot;MILD&quot;</span> <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>    x <span class="sc">==</span> <span class="st">&quot;MODERATE&quot;</span> <span class="sc">~</span> <span class="dv">2</span>,</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>    x <span class="sc">==</span> <span class="st">&quot;SEVERE&quot;</span> <span class="sc">~</span> <span class="dv">3</span>,</span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> y</span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a>  )</span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a>}</span></code></pre></div>
<p>The mapping of these variables is left to the User. An example
mapping may be:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> adface <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a>    <span class="at">AVALC =</span> <span class="fu">as.character</span>(FASTRESC),</span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a>    <span class="at">AVAL =</span> <span class="fu">suppressWarnings</span>(<span class="fu">as.numeric</span>(FASTRESN)),</span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a>    <span class="at">AVAL =</span> <span class="fu">sev_to_numeric</span>(AVALC, AVAL),</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>    <span class="at">ATPTREF =</span> FATPTREF,</span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>    <span class="at">ATPT =</span> FATPT,</span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a>    <span class="at">ATPTN =</span> FATPTNUM</span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a>  )</span></code></pre></div>
<table>
<colgroup>
<col width="13%" />
<col width="34%" />
<col width="7%" />
<col width="13%" />
<col width="21%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="right">AVAL</th>
<th align="left">AVALC</th>
<th align="left">ATPTREF</th>
<th align="right">ATPTN</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="right">NA</td>
<td align="left">N</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="right">NA</td>
<td align="left">N</td>
<td align="left">VACCINATION 1</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="right">NA</td>
<td align="left">N</td>
<td align="left">VACCINATION 1</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="right">NA</td>
<td align="left">N</td>
<td align="left">VACCINATION 1</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="right">NA</td>
<td align="left">N</td>
<td align="left">VACCINATION 1</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="right">NA</td>
<td align="left">N</td>
<td align="left">VACCINATION 1</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="right">NA</td>
<td align="left">N</td>
<td align="left">VACCINATION 1</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="right">NA</td>
<td align="left">N</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="right">NA</td>
<td align="left">Y</td>
<td align="left">VACCINATION 1</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
<td align="left">VACCINATION 1</td>
<td align="right">2</td>
</tr>
</tbody>
</table>
</div>
<div id="derive-an01fl" class="section level2">
<h2>Derive AN01FL</h2>
<p>Creating ANL01FL which would flag the records that will be considered
for analysis and if there is any Investigator and Subject record for the
same day, it would flag the Investigator record over the subject
record.</p>
<p>Note: Please, consider which assessment is needed for your analysis.
If you want to prioritize Investigator assessment, please proceed as
follows. Otherwise, change FAEVAL order.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> adface <span class="sc">%&gt;%</span> <span class="fu">derive_var_extreme_flag</span>(</span>
<span id="cb11-2"><a href="#cb11-2" tabindex="-1"></a>  <span class="at">by =</span> <span class="fu">exprs</span>(STUDYID, USUBJID, FATPTREF, FAOBJ, FATESTCD, FATPTNUM),</span>
<span id="cb11-3"><a href="#cb11-3" tabindex="-1"></a>  <span class="at">order =</span> <span class="fu">exprs</span>(STUDYID, USUBJID, FATPTREF, FAOBJ, FATESTCD, FATPTNUM, FAEVAL),</span>
<span id="cb11-4"><a href="#cb11-4" tabindex="-1"></a>  <span class="at">new_var =</span> ANL01FL,</span>
<span id="cb11-5"><a href="#cb11-5" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;first&quot;</span>,</span>
<span id="cb11-6"><a href="#cb11-6" tabindex="-1"></a>  <span class="at">true_value =</span> <span class="st">&quot;Y&quot;</span>,</span>
<span id="cb11-7"><a href="#cb11-7" tabindex="-1"></a>  <span class="at">false_value =</span> <span class="cn">NA_character_</span></span>
<span id="cb11-8"><a href="#cb11-8" tabindex="-1"></a>)</span></code></pre></div>
<table>
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="18%" />
<col width="12%" />
<col width="28%" />
<col width="6%" />
<col width="10%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">ATPTREF</th>
<th align="left">FATESTCD</th>
<th align="left">FATEST</th>
<th align="right">AVAL</th>
<th align="left">ANL01FL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">CHILLS</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">DIARRHEA</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">DIARRHEA</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">DIARRHEA</td>
<td align="left">VACCINATION 1</td>
<td align="left">OCCUR</td>
<td align="left">Occurrence Indicator</td>
<td align="right">NA</td>
<td align="left">Y</td>
</tr>
</tbody>
</table>
</div>
<div id="sev" class="section level2">
<h2>Derive Severity Records for Administration Site Events</h2>
<p>The function <code>derive_diam_to_sev_records()</code> is used to
derive the severity records from the diameter records for an event.</p>
<p>The severity records created will be useful for calculating the
maximum severity.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_diam_to_sev_records</span>(</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a>  <span class="at">filter_add =</span> ANL01FL <span class="sc">==</span> <span class="st">&quot;Y&quot;</span>,</span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a>  <span class="at">diam_code =</span> <span class="st">&quot;DIAMETER&quot;</span>,</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>  <span class="at">faobj_values =</span> <span class="fu">c</span>(<span class="st">&quot;REDNESS&quot;</span>, <span class="st">&quot;SWELLING&quot;</span>),</span>
<span id="cb12-6"><a href="#cb12-6" tabindex="-1"></a>  <span class="at">testcd_sev =</span> <span class="st">&quot;SEV&quot;</span>,</span>
<span id="cb12-7"><a href="#cb12-7" tabindex="-1"></a>  <span class="at">test_sev =</span> <span class="st">&quot;Severity/Intensity&quot;</span>,</span>
<span id="cb12-8"><a href="#cb12-8" tabindex="-1"></a>  <span class="at">none =</span> <span class="dv">0</span>,</span>
<span id="cb12-9"><a href="#cb12-9" tabindex="-1"></a>  <span class="at">mild =</span> <span class="dv">2</span>,</span>
<span id="cb12-10"><a href="#cb12-10" tabindex="-1"></a>  <span class="at">mod =</span> <span class="dv">5</span>,</span>
<span id="cb12-11"><a href="#cb12-11" tabindex="-1"></a>  <span class="at">sev =</span> <span class="dv">10</span></span>
<span id="cb12-12"><a href="#cb12-12" tabindex="-1"></a>)</span></code></pre></div>
<table style="width:100%;">
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="18%" />
<col width="12%" />
<col width="25%" />
<col width="6%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">ATPTREF</th>
<th align="left">FATESTCD</th>
<th align="left">FATEST</th>
<th align="right">AVAL</th>
<th align="left">AVALC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">0</td>
<td align="left">NONE</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">0</td>
<td align="left">NONE</td>
</tr>
<tr class="odd">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 2</td>
<td align="left">SEV</td>
<td align="left">Severity/Intensity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
</tbody>
</table>
<p>This call returns the input dataset with severity records derived
from the diameter records for an event.</p>
<p>By default, we will populate <code>SEV</code> and
<code>Severity/Intensity</code> as the <code>FATESTCD</code> and
<code>FATEST</code> for the newly added records. The function allows the
user to change the <code>FATESTCD</code> and <code>FATEST</code> as
well.</p>
</div>
<div id="max" class="section level2">
<h2>Derive Maximum Records</h2>
<p>In this step, we will derive maximum records for severity, diameter,
temperature using the function
<code>derive_extreme_records()</code>.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_extreme_records</span>(</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a>  <span class="at">dataset_add =</span> adface,</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>  <span class="at">filter_add =</span> FATESTCD <span class="sc">==</span> <span class="st">&quot;SEV&quot;</span> <span class="sc">&amp;</span> ANL01FL <span class="sc">==</span> <span class="st">&quot;Y&quot;</span>,</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a>  <span class="at">by_vars =</span> <span class="fu">exprs</span>(USUBJID, FAOBJ, ATPTREF),</span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>  <span class="at">order =</span> <span class="fu">exprs</span>(AVAL),</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>  <span class="at">check_type =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;last&quot;</span>,</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a>  <span class="at">set_values_to =</span> <span class="fu">exprs</span>(</span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>    <span class="at">FATEST =</span> <span class="st">&quot;Maximum Severity&quot;</span>,</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>    <span class="at">FATESTCD =</span> <span class="st">&quot;MAXSEV&quot;</span></span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>  )</span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a>)</span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a></span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_extreme_records</span>(</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a>  <span class="at">dataset_add =</span> adface,</span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a>  <span class="at">filter_add =</span> FAOBJ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;REDNESS&quot;</span>, <span class="st">&quot;SWELLING&quot;</span>) <span class="sc">&amp;</span> FATESTCD <span class="sc">==</span> <span class="st">&quot;DIAMETER&quot;</span> <span class="sc">&amp;</span> ANL01FL <span class="sc">==</span> <span class="st">&quot;Y&quot;</span>,</span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a>  <span class="at">by_vars =</span> <span class="fu">exprs</span>(USUBJID, FAOBJ, FALNKGRP),</span>
<span id="cb13-20"><a href="#cb13-20" tabindex="-1"></a>  <span class="at">order =</span> <span class="fu">exprs</span>(AVAL),</span>
<span id="cb13-21"><a href="#cb13-21" tabindex="-1"></a>  <span class="at">check_type =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb13-22"><a href="#cb13-22" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;last&quot;</span>,</span>
<span id="cb13-23"><a href="#cb13-23" tabindex="-1"></a>  <span class="at">set_values_to =</span> <span class="fu">exprs</span>(</span>
<span id="cb13-24"><a href="#cb13-24" tabindex="-1"></a>    <span class="at">FATEST =</span> <span class="st">&quot;Maximum Diameter&quot;</span>,</span>
<span id="cb13-25"><a href="#cb13-25" tabindex="-1"></a>    <span class="at">FATESTCD =</span> <span class="st">&quot;MAXDIAM&quot;</span></span>
<span id="cb13-26"><a href="#cb13-26" tabindex="-1"></a>  )</span>
<span id="cb13-27"><a href="#cb13-27" tabindex="-1"></a>)</span>
<span id="cb13-28"><a href="#cb13-28" tabindex="-1"></a></span>
<span id="cb13-29"><a href="#cb13-29" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_extreme_records</span>(</span>
<span id="cb13-30"><a href="#cb13-30" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb13-31"><a href="#cb13-31" tabindex="-1"></a>  <span class="at">dataset_add =</span> adface,</span>
<span id="cb13-32"><a href="#cb13-32" tabindex="-1"></a>  <span class="at">filter_add =</span> FAOBJ <span class="sc">==</span> <span class="st">&quot;FEVER&quot;</span> <span class="sc">&amp;</span> ANL01FL <span class="sc">==</span> <span class="st">&quot;Y&quot;</span>,</span>
<span id="cb13-33"><a href="#cb13-33" tabindex="-1"></a>  <span class="at">by_vars =</span> <span class="fu">exprs</span>(USUBJID, FAOBJ, ATPTREF),</span>
<span id="cb13-34"><a href="#cb13-34" tabindex="-1"></a>  <span class="at">order =</span> <span class="fu">exprs</span>(VSSTRESN),</span>
<span id="cb13-35"><a href="#cb13-35" tabindex="-1"></a>  <span class="at">check_type =</span> <span class="st">&quot;none&quot;</span>,</span>
<span id="cb13-36"><a href="#cb13-36" tabindex="-1"></a>  <span class="at">mode =</span> <span class="st">&quot;last&quot;</span>,</span>
<span id="cb13-37"><a href="#cb13-37" tabindex="-1"></a>  <span class="at">set_values_to =</span> <span class="fu">exprs</span>(</span>
<span id="cb13-38"><a href="#cb13-38" tabindex="-1"></a>    <span class="at">FATEST =</span> <span class="st">&quot;Maximum Temperature&quot;</span>,</span>
<span id="cb13-39"><a href="#cb13-39" tabindex="-1"></a>    <span class="at">FATESTCD =</span> <span class="st">&quot;MAXTEMP&quot;</span></span>
<span id="cb13-40"><a href="#cb13-40" tabindex="-1"></a>  )</span>
<span id="cb13-41"><a href="#cb13-41" tabindex="-1"></a>)</span></code></pre></div>
<table>
<colgroup>
<col width="9%" />
<col width="30%" />
<col width="15%" />
<col width="9%" />
<col width="18%" />
<col width="5%" />
<col width="9%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">ATPTREF</th>
<th align="left">FATESTCD</th>
<th align="left">FATEST</th>
<th align="right">AVAL</th>
<th align="left">AVALC</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">FATIGUE</td>
<td align="left">VACCINATION 1</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">NEW OR WORSENED JOINT PAIN</td>
<td align="left">VACCINATION 1</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">NEW OR WORSENED MUSCLE PAIN</td>
<td align="left">VACCINATION 1</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">VACCINATION 1</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
</tr>
<tr class="odd">
<td align="left">ABC-1002</td>
<td align="left">HEADACHE</td>
<td align="left">VACCINATION 1</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
</tr>
<tr class="even">
<td align="left">ABC-1002</td>
<td align="left">HEADACHE</td>
<td align="left">VACCINATION 2</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="odd">
<td align="left">ABC-1002</td>
<td align="left">PAIN AT INJECTION SITE</td>
<td align="left">VACCINATION 2</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
<tr class="even">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="left">MAXSEV</td>
<td align="left">Maximum Severity</td>
<td align="right">1</td>
<td align="left">MILD</td>
</tr>
</tbody>
</table>
<p>This call returns the input dataset with maximum records added for
the severity, diameter, temperature.</p>
</div>
<div id="paramcd" class="section level2">
<h2>Assign <code>PARAMCD</code>, <code>PARAM</code>,
<code>PARAMN</code>, <code>PARCAT1</code></h2>
<p>To assign parameter level values such as <code>PARAMCD</code>,
<code>PARAM</code>, <code>PARAMN</code>, etc., a lookup needs to be
created to join to the source data. <code>PARCAT1</code>,
<code>PARCAT2</code> variables are assigned from <code>FACAT</code>,
<code>FASCAT</code> variables.</p>
<p>For example, when creating <code>ADFACE</code> dataset, a lookup
based on the SDTM <code>--TESTCD</code> value can be created:</p>
<table>
<thead>
<tr class="header">
<th><code>FATESTCD</code></th>
<th><code>PARAMCD</code></th>
<th><code>PARAMN</code></th>
<th><code>FATEST</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SEV</td>
<td>SEVREDN</td>
<td>1</td>
<td>Severity</td>
</tr>
<tr class="even">
<td>DIAMETER</td>
<td>DIARE</td>
<td>2</td>
<td>Diameter</td>
</tr>
<tr class="odd">
<td>MAXDIAM</td>
<td>MDIRE</td>
<td>3</td>
<td>Maximum Diameter cm</td>
</tr>
<tr class="even">
<td>MAXTEMP</td>
<td>MAXTEMP</td>
<td>4</td>
<td>Maximum Temperature</td>
</tr>
<tr class="odd">
<td>MAXSEV</td>
<td>MAXSWEL</td>
<td>5</td>
<td>Maximum Severity</td>
</tr>
<tr class="even">
<td>OCCUR</td>
<td>OCFEVER</td>
<td>6</td>
<td>Occurrence Indicator</td>
</tr>
<tr class="odd">
<td>OCCUR</td>
<td>OCERYTH</td>
<td>7</td>
<td>Occurrence Indicator</td>
</tr>
<tr class="even">
<td>SEV</td>
<td>SEVPAIN</td>
<td>8</td>
<td>Severity</td>
</tr>
<tr class="odd">
<td>OCCUR</td>
<td>OCPAIN</td>
<td>9</td>
<td>Occurrence Indicator</td>
</tr>
<tr class="even">
<td>OCCUR</td>
<td>OCSWEL</td>
<td>10</td>
<td>Occurrence Indicator</td>
</tr>
</tbody>
</table>
<p>This lookup can now be joined to the source data:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_vars_params</span>(</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>  <span class="at">lookup_dataset =</span> lookup_dataset,</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a>  <span class="at">merge_vars =</span> <span class="fu">exprs</span>(PARAMCD, PARAMN)</span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>)</span></code></pre></div>
<table>
<colgroup>
<col width="6%" />
<col width="6%" />
<col width="9%" />
<col width="12%" />
<col width="5%" />
<col width="32%" />
<col width="4%" />
<col width="10%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">ATPTREF</th>
<th align="left">FATEST</th>
<th align="left">PARAMCD</th>
<th align="left">PARAM</th>
<th align="right">PARAMN</th>
<th align="left">PARCAT1</th>
<th align="left">PARCAT2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVREDN</td>
<td align="left">Redness severity/intensity deltoid muscle left</td>
<td align="right">1</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVSWEL</td>
<td align="left">Swelling severity/intensity deltoid muscle left</td>
<td align="right">22</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVSWEL</td>
<td align="left">Swelling severity/intensity deltoid muscle left</td>
<td align="right">22</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVSWEL</td>
<td align="left">Swelling severity/intensity deltoid muscle left</td>
<td align="right">22</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVSWEL</td>
<td align="left">Swelling severity/intensity deltoid muscle left</td>
<td align="right">22</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVSWEL</td>
<td align="left">Swelling severity/intensity deltoid muscle left</td>
<td align="right">22</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVSWEL</td>
<td align="left">Swelling severity/intensity deltoid muscle left</td>
<td align="right">22</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVSWEL</td>
<td align="left">Swelling severity/intensity deltoid muscle left</td>
<td align="right">22</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="odd">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVREDN</td>
<td align="left">Redness severity/intensity deltoid muscle left</td>
<td align="right">1</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
<tr class="even">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 2</td>
<td align="left">Severity/Intensity</td>
<td align="left">SEVREDN</td>
<td align="left">Redness severity/intensity deltoid muscle left</td>
<td align="right">1</td>
<td align="left">REACTOGENICITY</td>
<td align="left">ADMINISTRATION SITE</td>
</tr>
</tbody>
</table>
<p><code>PARAMCD</code> will be always derived from lookup dataset
whereas <code>PARAMN</code>, <code>PARAM</code>, <code>PARCAT1</code>,
<code>PARCAT2</code> can be either derived from lookup dataset if
mentioned in <code>merge_vars</code> argument or derived in the
function.</p>
</div>
<div id="maxflag" class="section level2">
<h2>Derive Maximum Severity Flag</h2>
<p>The function <code>derive_vars_max_flag()</code> is used to derive
flag variable for the maximum values of an event.</p>
<p><code>flag1</code> - Flags the maximum value per subject per event
per Vaccination. <code>flag2</code> - Flags the maximum value per
subject per event for Overall.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_vars_max_flag</span>(</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a>  <span class="at">flag1 =</span> <span class="st">&quot;ANL02FL&quot;</span>,</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>  <span class="at">flag2 =</span> <span class="st">&quot;ANL03FL&quot;</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>)</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a><span class="co">#&gt; Joining with `by = join_by(STUDYID, DOMAIN, USUBJID, FASEQ, FALNKGRP, PARAM,</span></span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a><span class="co">#&gt; FALAT, FALNKID, FALOC, FATESTCD, FATEST, FAOBJ, FACAT, FASCAT, FAEVAL, FAORRES,</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a><span class="co">#&gt; FAORRESU, EPOCH, FADTC, FADY, FATPT, FATPTNUM, FATPTREF, FARFTDTC, FAEVLINT,</span></span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a><span class="co">#&gt; FAEVINTX, FASTAT, FAREASND, FASTRESC, FASTRESN, FASTRESU, CLTYP, RFSTDTC,</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a><span class="co">#&gt; RFENDTC, VSSTRESN, ADT, ADTM, ADY, APERIOD, APERSDT, APEREDT, TRTA, TRTP,</span></span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a><span class="co">#&gt; AVALC, AVAL, ATPTREF, ATPT, ATPTN, ANL01FL, PARAMCD, PARAMN, PARCAT1, PARCAT2)`</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a><span class="co">#&gt; Joining with `by = join_by(STUDYID, DOMAIN, USUBJID, FASEQ, FALNKGRP, PARAM,</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a><span class="co">#&gt; FALAT, FALNKID, FALOC, FATESTCD, FATEST, FAOBJ, FACAT, FASCAT, FAEVAL, FAORRES,</span></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="co">#&gt; FAORRESU, EPOCH, FADTC, FADY, FATPT, FATPTNUM, FATPTREF, FARFTDTC, FAEVLINT,</span></span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a><span class="co">#&gt; FAEVINTX, FASTAT, FAREASND, FASTRESC, FASTRESN, FASTRESU, CLTYP, RFSTDTC,</span></span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a><span class="co">#&gt; RFENDTC, VSSTRESN, ADT, ADTM, ADY, APERIOD, APERSDT, APEREDT, TRTA, TRTP,</span></span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a><span class="co">#&gt; AVALC, AVAL, ATPTREF, ATPT, ATPTN, ANL01FL, PARAMCD, PARAMN, PARCAT1, PARCAT2,</span></span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a><span class="co">#&gt; ANL02FL)`</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">ATPTREF</th>
<th align="right">AVAL</th>
<th align="left">AVALC</th>
<th align="left">ANL01FL</th>
<th align="left">ANL02FL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">0</td>
<td align="left">NONE</td>
<td align="left">Y</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">NA</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">0</td>
<td align="left">NONE</td>
<td align="left">Y</td>
<td align="left">NA</td>
</tr>
<tr class="odd">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 2</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
</tbody>
</table>
<p>This call would return the input dataset with columns
<code>ANL02FL</code>, <code>ANL03FL</code> added by default. This
function allows the user to change the name of the new variables
created.</p>
</div>
<div id="eventflag" class="section level2">
<h2>Derive Event Occurrence Flag</h2>
<p>The function <code>derive_vars_event_flag()</code> is used to derive
flag variable for the events that occurred.</p>
<p><code>new_var1</code> - Flags the record if at least one of the event
occurred within the observation period. <code>new_var2</code> - Flags
the record if the event is occurred.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_vars_event_flag</span>(</span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a>  <span class="at">by_vars =</span> <span class="fu">exprs</span>(USUBJID, FAOBJ, ATPTREF),</span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a>  <span class="at">aval_cutoff =</span> <span class="fl">2.5</span>,</span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a>  <span class="at">new_var1 =</span> EVENTFL,</span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a>  <span class="at">new_var2 =</span> EVENTDFL</span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">FAOBJ</th>
<th align="left">ATPTREF</th>
<th align="right">AVAL</th>
<th align="left">AVALC</th>
<th align="left">EVENTFL</th>
<th align="left">EVENTDFL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">0</td>
<td align="left">NONE</td>
<td align="left">Y</td>
<td align="left">N</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">2</td>
<td align="left">MODERATE</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">SWELLING</td>
<td align="left">VACCINATION 1</td>
<td align="right">0</td>
<td align="left">NONE</td>
<td align="left">Y</td>
<td align="left">N</td>
</tr>
<tr class="odd">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 1</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
<tr class="even">
<td align="left">ABC-1002</td>
<td align="left">REDNESS</td>
<td align="left">VACCINATION 2</td>
<td align="right">1</td>
<td align="left">MILD</td>
<td align="left">Y</td>
<td align="left">Y</td>
</tr>
</tbody>
</table>
<p>This call would return the input dataset with columns
<code>EVENTFL</code>, <code>EVENTDFL</code> added by default. This
function allows the user to change the name of the new variables created
as well.</p>
</div>
<div id="post" class="section level2">
<h2>Post-processing of the Dataset</h2>
<p>In this step, we will remove values for all the derived records in
SDTM variables.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">post_process_reacto</span>(</span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a>  <span class="at">filter_dataset =</span> FATESTCD <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;MAXDIAM&quot;</span>, <span class="st">&quot;MAXSEV&quot;</span>, <span class="st">&quot;MAXTEMP&quot;</span>) <span class="sc">|</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a>    (FATESTCD <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;OCCUR&quot;</span>, <span class="st">&quot;SEV&quot;</span>) <span class="sc">&amp;</span> FAOBJ <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;FEVER&quot;</span>, <span class="st">&quot;REDNESS&quot;</span>, <span class="st">&quot;SWELLING&quot;</span>))</span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>)</span></code></pre></div>
</div>
<div id="adsl_vars" class="section level2">
<h2>Add ADSL variables</h2>
<p>If needed, the other <code>ADSL</code> variables can now be added.
List of ADSL variables already merged held in vector
<code>adsl_vars</code></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a>adsl <span class="ot">&lt;-</span> adsl <span class="sc">%&gt;%</span></span>
<span id="cb18-2"><a href="#cb18-2" tabindex="-1"></a>  <span class="fu">convert_blanks_to_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="#cb18-3" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(USUBJID))</span>
<span id="cb18-4"><a href="#cb18-4" tabindex="-1"></a></span>
<span id="cb18-5"><a href="#cb18-5" tabindex="-1"></a>adface <span class="ot">&lt;-</span> <span class="fu">derive_vars_merged</span>(</span>
<span id="cb18-6"><a href="#cb18-6" tabindex="-1"></a>  <span class="at">dataset =</span> adface,</span>
<span id="cb18-7"><a href="#cb18-7" tabindex="-1"></a>  <span class="at">dataset_add =</span> <span class="fu">select</span>(adsl, <span class="sc">!!!</span><span class="fu">negate_vars</span>(adsl_vars)),</span>
<span id="cb18-8"><a href="#cb18-8" tabindex="-1"></a>  <span class="at">by_vars =</span> <span class="fu">get_admiral_option</span>(<span class="st">&quot;subject_keys&quot;</span>)</span>
<span id="cb18-9"><a href="#cb18-9" tabindex="-1"></a>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">USUBJID</th>
<th align="left">TRTSDT</th>
<th align="left">TRTEDT</th>
<th align="right">AGE</th>
<th align="left">SEX</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-30</td>
<td align="right">74</td>
<td align="left">F</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-30</td>
<td align="right">74</td>
<td align="left">F</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-30</td>
<td align="right">74</td>
<td align="left">F</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-30</td>
<td align="right">74</td>
<td align="left">F</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-30</td>
<td align="right">74</td>
<td align="left">F</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-30</td>
<td align="right">74</td>
<td align="left">F</td>
</tr>
<tr class="odd">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-30</td>
<td align="right">74</td>
<td align="left">F</td>
</tr>
<tr class="even">
<td align="left">ABC-1001</td>
<td align="left">2021-11-03</td>
<td align="left">2021-12-30</td>
<td align="right">74</td>
<td align="left">F</td>
</tr>
<tr class="odd">
<td align="left">ABC-1002</td>
<td align="left">2021-10-07</td>
<td align="left">2021-12-16</td>
<td align="right">70</td>
<td align="left">F</td>
</tr>
<tr class="even">
<td align="left">ABC-1002</td>
<td align="left">2021-10-07</td>
<td align="left">2021-12-16</td>
<td align="right">70</td>
<td align="left">F</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="example-script" class="section level1">
<h1>Example Script</h1>
<table>
<colgroup>
<col width="22%" />
<col width="77%" />
</colgroup>
<thead>
<tr class="header">
<th>ADaM</th>
<th>Sample Code</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ADFACE</td>
<td><a href="https://github.com/pharmaverse/admiralvaccine/blob/main/inst/templates/ad_adface.R" target="_blank">ad_adface.R</a></td>
</tr>
</tbody>
</table>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
